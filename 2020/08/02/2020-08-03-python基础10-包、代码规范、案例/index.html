<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="这是始于兴趣搭建的个人博客。"><meta name="baidu-site-verification"><title>python基础10-包、代码规范、案例 | CAIJINBO</title><link rel="stylesheet" type="text/css" href="/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.png"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="CAIJINBO" type="application/atom+xml">
</head><link rel="stylesheet" type="text/css" href="/plugins/prettify/doxy.css"><script type="text/javascript" src="/js/ready.js" async></script><body class="night"><div class="mobile-head" id="mobile-head"><div class="navbar-icon"><span></span><span></span><span></span></div><div class="navbar-title"><a href="/">CAIJINBO</a></div><div class="navbar-search"><!--= show a circle here--></div></div><div class="h-wrapper" id="menu"><nav class="h-head box"><div class="m-hdimg"><a class="hdimg img" href="/"><img class="nofancybox" src="/img/profile.jpg" width="128" height="128"></a><h1 class="ttl"><a href="/">CAIJINBO</a></h1></div><p class="m-desc">懒人在思考......,<br>解决不了问题，就解决提出问题的人！</p><div class="m-nav"><ul><li><span class="dot">●</span><a href="/archives/">归档</a></li><li><span class="dot">●</span><a href="/categories/">分类</a></li><li><span class="dot">●</span><a href="/tags/">标签</a></li><li><span class="dot">●</span><a href="/about/">关于</a></li><li><span class="dot">●</span><a href="/atom.xml">RSS</a></li><li class="m-sch"><form class="form" id="j-formsch" method="get"><input class="txt" type="text" id="local-search-input" name="q" value="搜索" onfocus="if(this.value=='搜索'){this.value='';}" onblur="if(this.value==''){this.value='搜索';}"><input type="text" style="display:none;"></form></li></ul><div id="local-search-result"></div></div></nav></div><div id="back2Top"><a class="fa fa-arrow-up" title="Back to top" href="#"></a></div><div class="box" id="container"><div class="l-wrapper"><div class="l-content box"><div class="l-post l-post-art"><article class="p-art"><div class="p-header box"><h1 class="p-title">python基础10-包、代码规范、案例</h1><div class="p-info"><span class="p-date"><i class="fa fa-calendar"></i><a href="/2020/08/02/2020-08-03-python%E5%9F%BA%E7%A1%8010-%E5%8C%85%E3%80%81%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E3%80%81%E6%A1%88%E4%BE%8B/">2020-08-02</a></span><span class="p-category"><i class="fa fa-folder"></i><a href="/categories/python/">python</a></span><span class="p-view" id="busuanzi_container_page_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_page_pv"></span></span></div></div><div class="p-content"><h1 id="包、代码规范、案例"><a href="#包、代码规范、案例" class="headerlink" title="包、代码规范、案例"></a>包、代码规范、案例</h1><h2 id="一、Python中的包"><a href="#一、Python中的包" class="headerlink" title="一、Python中的包"></a>一、Python中的包</h2><h3 id="1-创建包"><a href="#1-创建包" class="headerlink" title="1. 创建包"></a>1. 创建包</h3><a id="more"></a>

<ul>
<li>有 2 个模块功能有些联系，可以将其放到同一个文件夹下</li>
<li>要组成包，还需要在该文件夹中创建<code>__init__.py</code>文件</li>
</ul>
<p><strong>总结：</strong></p>
<ul>
<li>把有联系的多个模块文件，放到同一个文件夹下，并且在这个文件夹创建一个名字为<code>__init__</code>.py 文件，那么这个文件夹就称之为包</li>
<li>包的本质就是一个文件夹，包的作用将模块文件组织起来</li>
<li>包能有效避免模块名称冲突问题，提高程序的结构性和可维护性</li>
</ul>
<h3 id="2-导入包中模块"><a href="#2-导入包中模块" class="headerlink" title="2. 导入包中模块"></a>2. 导入包中模块</h3><ul>
<li>使用 <code>import 包名.模块名</code> 能够导入包中的模块</li>
<li>使用 <code>from 包名.模块名 import...</code>能够导入模块中的符号</li>
</ul>
<p>示例代码：</p>
<pre><code class="python">&quot;&quot;&quot;
方式1：
导入格式：   import 包名.模块名
            包名就是文件夹名    模块名就是文件名字
使用格式：   包名.模块名.工具   (类名、函数、变量)
&quot;&quot;&quot;
import msg.sendmsg
msg.sendmsg.send_test()

&quot;&quot;&quot;
方式2：
导入格式：   from 包名.模块名 import 所需的工具
使用格式：   工具   (类名、函数、变量)
&quot;&quot;&quot;
from msg.sendmsg import send_test
# from msg.sendmsg import *
send_test()</code></pre>
<h3 id="3-init-py文件有什么用"><a href="#3-init-py文件有什么用" class="headerlink" title="3. __init__.py文件有什么用"></a>3. <code>__init__.py</code>文件有什么用</h3><ul>
<li>包被导入时，会执行 <code>__init__.py</code>文件的内容</li>
<li><code>__init__.py</code> 的作用：控制包的导入行为，管理模块文件</li>
</ul>
<h4 id="3-1-导包执行-init-py内容"><a href="#3-1-导包执行-init-py内容" class="headerlink" title="3.1 导包执行__init__.py内容"></a>3.1 导包执行<code>__init__.py</code>内容</h4><ul>
<li>包被导入时，会执行 <code>__init__.py</code>文件的内容</li>
</ul>
<h2 id="二、PEP8-Python代码风格指南"><a href="#二、PEP8-Python代码风格指南" class="headerlink" title="二、PEP8: Python代码风格指南"></a>二、PEP8: Python代码风格指南</h2><p>PEP8 提供了 Python 代码的编写约定，本节知识点旨在提高代码的可读性，并使其在各种 Python 代码中编写风格保持一致。</p>
<ol>
<li><p>缩进使用4个空格, 空格是首选的缩进方式. Python3 不允许混合使用制表符和空格来缩进.</p>
</li>
<li><p>每一行最大长度限制在79个字符以内.</p>
</li>
<li><p>顶层函数、类的定义, 前后使用两个空行隔开.</p>
</li>
<li><p>import 导入</p>
<ol>
<li><p>导入建议在不同的行, 例如:</p>
<pre><code class="python">import os
import sys
# 不建议如下导包
import os, sys
# 但是可以如下:
from subprocess import Popen, PIPE</code></pre>
</li>
<li><p>导包位于文件顶部, 在模块注释、文档字符串之后, 全局变量、常量之前. 导入按照以下顺序分组:</p>
<ol>
<li>标准库导入</li>
<li>相关第三方导入</li>
<li>本地应用/库导入</li>
<li>在每一组导入之间加入空行</li>
</ol>
</li>
</ol>
</li>
<li><p>Python 中定义字符串使用双引号、单引号是相同的, 尽量保持使用同一方式定义字符串. 当一个字符串包含单引号或者双引号时, 在最外层使用不同的符号来避免使用反斜杠转义, 从而提高可读性.</p>
</li>
<li><p>表达式和语句中的空格:</p>
<ol>
<li>避免在小括号、方括号、花括号后跟空格.</li>
<li>避免在逗号、分好、冒号之前添加空格.</li>
<li>冒号在切片中就像二元运算符, 两边要有相同数量的空格. 如果某个切片参数省略, 空格也省略.</li>
<li>避免为了和另外一个赋值语句对齐, 在赋值运算符附加多个空格.</li>
<li>避免在表达式尾部添加空格, 因为尾部空格通常看不见, 会产生混乱.</li>
<li>总是在二元运算符两边加一个空格, 赋值（=），增量赋值（+=，-=），比较（==,&lt;,&gt;,!=,&lt;&gt;,&lt;=,&gt;=,in,not,in,is,is not），布尔（and, or, not</li>
</ol>
</li>
<li><p>避免将小的代码块和 if/for/while 放在同一行, 要避免代码行太长.</p>
<pre><code class="python">if foo == &#39;blah&#39;: do_blah_thing()
for x in lst: total += x
while t &lt; 10: t = delay()</code></pre>
</li>
<li><p>永远不要使用字母 ‘l’(小写的L), ‘O’(大写的O), 或者 ‘I’(大写的I) 作为单字符变量名. 在有些字体里, 这些字符无法和数字0和1区分, 如果想用 ‘l’, 用 ‘L’ 代替.</p>
</li>
<li><p>类名一般使用首字母大写的约定.</p>
</li>
<li><p>函数名应该小写, 如果想提高可读性可以用下划线分隔.</p>
</li>
<li><p>如果函数的参数名和已有的关键词冲突, 在最后加单一下划线比缩写或随意拼写更好. 因此 class_ 比 clss 更好.(也许最好用同义词来避免这种冲突).</p>
</li>
<li><p>方法名和实例变量使用下划线分割的小写单词, 以提高可读性.</p>
</li>
</ol>
<h2 id="三、学生名片管理系统：面向对象版"><a href="#三、学生名片管理系统：面向对象版" class="headerlink" title="三、学生名片管理系统：面向对象版"></a>三、学生名片管理系统：面向对象版</h2><h3 id="1-示例代码"><a href="#1-示例代码" class="headerlink" title="1. 示例代码"></a>1. 示例代码</h3><pre><code class="python">import os


class Student(object):
    &quot;&quot;&quot;学生类：保存学生的基本信息&quot;&quot;&quot;
    def __init__(self, name, age, tel):
        self.name = name
        self.age = age
        self.tel = tel

    def __str__(self):
        return f&#39;{self.name}\t{self.age}\t{self.tel}&#39;

    def to_dict(self):
        &quot;&quot;&quot;将属性内容以字典的形式返回&quot;&quot;&quot;
        return {&#39;name&#39;: self.name, &#39;age&#39;: self.age, &#39;tel&#39;: self.tel}


class ManagerStuSys(object):
    &quot;&quot;&quot;管理学生：增删改查学生信息&quot;&quot;&quot;
    def __init__(self):
        self.user_list = []

    def test(self):
        s1 = Student(&#39;mike&#39;, 34, &#39;110&#39;)
        s2 = Student(&#39;tom&#39;, 24, &#39;120&#39;)
        self.user_list.append(s1)
        self.user_list.append(s2)
        for obj in self.user_list:
            print(obj)

    def start(self):
        self.load_info()
        while True:
            self.help_menu()
            cmd = input(&#39;请输入功能数字：&#39;)
            if cmd == &#39;1&#39;:
                print(&#39;添加学生&#39;)
                self.add_info()
            elif cmd == &#39;2&#39;:
                print(&#39;显示所有学生&#39;)
                self.show_all_stu()
            elif cmd == &#39;3&#39;:
                print(&#39;查询学生信息&#39;)
                self.find_stu_by_name()
            elif cmd == &#39;4&#39;:
                print(&#39;修改学生名片信息&#39;)
                self.update_stu_by_name()
            elif cmd == &#39;5&#39;:
                print(&#39;删除学生信息&#39;)
                self.del_stu_by_name()
            elif cmd == &#39;6&#39;:
                print(&#39;保存信息&#39;)
                self.save_info()
            elif cmd == &#39;7&#39;:
                print(&#39;退出系统&#39;)
                break
            else:
                print(&#39;输入错误，请重新输入&#39;)

    @staticmethod
    def help_menu():
        print(&#39;=&#39; * 30)
        print(&#39;= 1.添加学生名片信息&#39;)
        print(&#39;= 2.显示所有学生名片信息&#39;)
        print(&#39;= 3.查询学生名片信息&#39;)
        print(&#39;= 4.修改学生名片信息&#39;)
        print(&#39;= 5.删除学生名片信息&#39;)
        print(&#39;= 6.保存学生名片信息&#39;)
        print(&#39;= 7.退出系统&#39;)
        print(&#39;=&#39; * 30)

    def add_info(self):
        &quot;&quot;&quot;添加学生名片信息&quot;&quot;&quot;
        name = input(&#39;请输入姓名：&#39;)
        age = int(input(&#39;请输入年龄：&#39;))
        tel = input(&#39;请输入电话：&#39;)

        # 通过for遍历，取出某个元素后，这个元素就是对象
        for obj in self.user_list:
            if obj.name == name:
                print(f&#39;已经存在{name}学生，不能添加&#39;)
                break
        else:
            obj = Student(name, age, tel)
            self.user_list.append(obj)
            print(f&#39;{name}学生添加成功&#39;)

    def show_all_stu(self):
        &quot;&quot;&quot;显示所有学生名片信息&quot;&quot;&quot;
        if len(self.user_list) == 0:
            print(&#39;当前没有任何名片信息&#39;)
            return
        # 打印表头
        print(&#39;序号\t姓名\t年龄\t电话&#39;)
        for i, obj in enumerate(self.user_list):
            print(f&#39;{i+1}\t{obj}&#39;)

    def find_stu_by_name(self):
        &quot;&quot;&quot;查找学生名片信息&quot;&quot;&quot;
        name = input(&#39;请输入需要查找的姓名：&#39;)
        for obj in self.user_list:
            if obj.name == name:
                print(obj)
                break
        else:
            print(f&#39;{name}用户不存在&#39;)

    def update_stu_by_name(self):
        &quot;&quot;&quot;修改学生名片信息&quot;&quot;&quot;
        name = input(&#39;请输入想要修改的姓名：&#39;)
        for i, obj in enumerate(self.user_list):
            if obj.name == name:
                new_name = input(&#39;请输入新的名字：&#39;)
                new_age = input(&#39;请输入新的年龄：&#39;)
                new_tel = input(&#39;请输入新的电话：&#39;)
                self.user_list[i].name = new_name
                self.user_list[i].age = new_age
                self.user_list[i].tel = new_tel
                print(&#39;修改成功&#39;)
                break
        else:
            print(f&#39;{name}用户不存在&#39;)

    def del_stu_by_name(self):
        &quot;&quot;&quot;删除学生名片信息&quot;&quot;&quot;
        name = input(&#39;请输入想要删除的姓名：&#39;)
        for i, obj in enumerate(self.user_list):
            if obj.name == name:
                del self.user_list[i]
                print(&#39;删除成功&#39;)
                break
        else:
            print(f&#39;{name}用户不存在&#39;)

    def save_info(self):
        &quot;&quot;&quot;保存学生名片信息&quot;&quot;&quot;
        new_list = []
        for obj in self.user_list:
            new_list.append(obj.to_dict())

        with open(&#39;stu.txt&#39;, &#39;w&#39;) as f:
            f.write(str(new_list))
            print(&#39;保存成功&#39;)

    def load_info(self):
        &quot;&quot;&quot;加载文件内容&quot;&quot;&quot;
        if not os.path.exists(&#39;stu.txt&#39;):
            print(&#39;文件不存在，无法加载&#39;)
            return

        with open(&#39;stu.txt&#39;) as f:
            content = f.read()
            temp_list = eval(content)
            print(&#39;加载成功&#39;)

        for user_dict in temp_list:
            obj = Student(user_dict[&#39;name&#39;], user_dict[&#39;age&#39;], user_dict[&#39;tel&#39;])
            self.user_list.append(obj)


mss = ManagerStuSys()
mss.start()</code></pre>
</div><div class="p-copyright"><blockquote><div class="p-copyright-author"><span class="p-copyright-key">本文作者：</span><span class="p-copytight-value"><a href="mailto:litreily@163.com">caijinbo</a></span></div><div class="p-copyright-link"><span class="p-copyright-key">本文链接：</span><span class="p-copytight-value"><a href="/2020/08/02/2020-08-03-python%E5%9F%BA%E7%A1%8010-%E5%8C%85%E3%80%81%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E3%80%81%E6%A1%88%E4%BE%8B/">https://caijinbo.work/2020/08/02/2020-08-03-python基础10-包、代码规范、案例/</a></span></div><div class="p-copyright-note"><span class="p-copyright-key">版权声明：</span><span class="p-copytight-value">本博客所有文章除特殊声明外，均采用<a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/"> CC BY-NC 4.0 </a>许可协议。转载请注明出处 <a href="https://caijinbo.work">caijinbo的博客</a>！</span></div></blockquote></div></article><div class="p-info box"><span class="p-tags"><i class="fa fa-tag"></i><a href="/tags/python/">python</a></span></div><aside id="toc"><div class="toc-title">目录</div><nav><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#包、代码规范、案例"><span class="toc-number">1.</span> <span class="toc-text">包、代码规范、案例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、Python中的包"><span class="toc-number">1.1.</span> <span class="toc-text">一、Python中的包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-创建包"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. 创建包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-导入包中模块"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 导入包中模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-init-py文件有什么用"><span class="toc-number">1.1.3.</span> <span class="toc-text">3. __init__.py文件有什么用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-导包执行-init-py内容"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">3.1 导包执行__init__.py内容</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、PEP8-Python代码风格指南"><span class="toc-number">1.2.</span> <span class="toc-text">二、PEP8: Python代码风格指南</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、学生名片管理系统：面向对象版"><span class="toc-number">1.3.</span> <span class="toc-text">三、学生名片管理系统：面向对象版</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-示例代码"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. 示例代码</span></a></li></ol></li></ol></li></ol></nav></aside></div><section class="p-ext"><div class="l-pager l-pager-dtl box"><a class="prev" href="/2020/08/04/2020-08-05-python%E9%AB%98%E7%BA%A701-Linux%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/">&lt; python高级01-Linux基本使用</a><a class="next" href="/2020/08/02/2020-08-03-python%E5%9F%BA%E7%A1%8009-%E5%BC%82%E5%B8%B8%E3%80%81%E6%A8%A1%E5%9D%97/">python基础09-异常、模块 &gt;</a></div></section><footer><p>Copyright © 2016 - 2020 <a href="/." rel="nofollow">CAIJINBO</a> | <strong><a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></strong><br><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span></span> <span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span></span> | Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a>Theme with<a rel="nofollow" target="_blank" href="https://github.com/litreily/snark-hexo"> snark.</a></p></footer></div></div></div><script type="text/javascript" src="/plugins/prettify/prettify.js"></script><script type="text/javascript" src="/js/search.js"></script><script type="text/javascript" src="/js/top.js"></script><script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
    search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.1" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"></body></html>