<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="这是始于兴趣搭建的个人博客。"><meta name="baidu-site-verification"><title>python基础06-文件操作 | CAIJINBO</title><link rel="stylesheet" type="text/css" href="/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.png"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="CAIJINBO" type="application/atom+xml">
</head><link rel="stylesheet" type="text/css" href="/plugins/prettify/doxy.css"><script type="text/javascript" src="/js/ready.js" async></script><body class="night"><div class="mobile-head" id="mobile-head"><div class="navbar-icon"><span></span><span></span><span></span></div><div class="navbar-title"><a href="/">CAIJINBO</a></div><div class="navbar-search"><!--= show a circle here--></div></div><div class="h-wrapper" id="menu"><nav class="h-head box"><div class="m-hdimg"><a class="hdimg img" href="/"><img class="nofancybox" src="/img/profile.jpg" width="128" height="128"></a><h1 class="ttl"><a href="/">CAIJINBO</a></h1></div><p class="m-desc">懒人在思考......,<br>解决不了问题，就解决提出问题的人！</p><div class="m-nav"><ul><li><span class="dot">●</span><a href="/archives/">归档</a></li><li><span class="dot">●</span><a href="/categories/">分类</a></li><li><span class="dot">●</span><a href="/tags/">标签</a></li><li><span class="dot">●</span><a href="/about/">关于</a></li><li><span class="dot">●</span><a href="/atom.xml">RSS</a></li><li class="m-sch"><form class="form" id="j-formsch" method="get"><input class="txt" type="text" id="local-search-input" name="q" value="搜索" onfocus="if(this.value=='搜索'){this.value='';}" onblur="if(this.value==''){this.value='搜索';}"><input type="text" style="display:none;"></form></li></ul><div id="local-search-result"></div></div></nav></div><div id="back2Top"><a class="fa fa-arrow-up" title="Back to top" href="#"></a></div><div class="box" id="container"><div class="l-wrapper"><div class="l-content box"><div class="l-post l-post-art"><article class="p-art"><div class="p-header box"><h1 class="p-title">python基础06-文件操作</h1><div class="p-info"><span class="p-date"><i class="fa fa-calendar"></i><a href="/2020/07/26/2020-07-27-python%E5%9F%BA%E7%A1%8006-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/">2020-07-26</a></span><span class="p-category"><i class="fa fa-folder"></i><a href="/categories/python/">python</a></span><span class="p-view" id="busuanzi_container_page_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_page_pv"></span></span></div></div><div class="p-content"><h1 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h1><h2 id="一、文件的作用"><a href="#一、文件的作用" class="headerlink" title="一、文件的作用"></a>一、文件的作用</h2><ul>
<li>把一些长期存储存放起来，可以让程序下一次执行的时候直接使用，而不必重新制作一份，省时省力<ul>
<li>持久化储存数据</li>
</ul>
</li>
</ul>
<a id="more"></a>



<h2 id="二、文件的打开与关闭"><a href="#二、文件的打开与关闭" class="headerlink" title="二、文件的打开与关闭"></a>二、文件的打开与关闭</h2><h3 id="1-文件操作流程"><a href="#1-文件操作流程" class="headerlink" title="1. 文件操作流程"></a>1. 文件操作流程</h3><ol>
<li>打开文件，或者新建立一个文件</li>
<li>读/写数据</li>
<li>关闭文件</li>
</ol>
<h3 id="2-打开文件"><a href="#2-打开文件" class="headerlink" title="2. 打开文件"></a>2. 打开文件</h3><p>在Python，使用open函数，可以打开一个已经存在的文件，或者创建一个新文件：</p>
<ul>
<li><pre><code>文件变量 = open(文件名字，访问模式)</code></pre><ul>
<li>注意：文件名字，访问模式都是字符串格式</li>
</ul>
</li>
</ul>
<p>示例如下：</p>
<pre><code class="python"># &#39;w&#39;: 只写方式打开文件，文件不存在创建，文件存在，清空文件内容
f = open(&#39;xxx.txt&#39;, &#39;w&#39;)</code></pre>
<p>说明:</p>
<table>
<thead>
<tr>
<th align="center">访问模式</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">r</td>
<td align="left">只用于读取, 默认模式。文件不存在,会报错。</td>
</tr>
<tr>
<td align="center">w</td>
<td align="left">只用于写入。文件存在则先清空内容, 文件不存在，创建新文件。</td>
</tr>
</tbody></table>
<h3 id="3-关闭文件"><a href="#3-关闭文件" class="headerlink" title="3. 关闭文件"></a>3. 关闭文件</h3><h4 id="3-1-手动关闭文件"><a href="#3-1-手动关闭文件" class="headerlink" title="3.1 手动关闭文件"></a>3.1 手动关闭文件</h4><ul>
<li>关闭文件，为了释放资源</li>
<li>语法格式：<code>文件变量.close()</code></li>
</ul>
<p>示例如下：</p>
<pre><code class="python"># &#39;w&#39;: 只写方式打开文件，文件不存在创建，文件存在，清空文件内容
f = open(&#39;xxx.txt&#39;, &#39;w&#39;)

# 关闭文件，为了释放资源
# 文件变量.close()
f.close()</code></pre>
<h4 id="3-2-自动关闭文件"><a href="#3-2-自动关闭文件" class="headerlink" title="3.2 自动关闭文件"></a>3.2 自动关闭文件</h4><pre><code class="python">with open(&quot;123.txt&quot;, &quot;w&quot;) as f:
    pass  # 执行完缩进代码, 会自动关闭文件</code></pre>
<h2 id="三、文件的读写"><a href="#三、文件的读写" class="headerlink" title="三、文件的读写"></a>三、文件的读写</h2><h3 id="1-写数据"><a href="#1-写数据" class="headerlink" title="1. 写数据"></a>1. 写数据</h3><ul>
<li>使用 write() 可以完成向文件写入数据</li>
<li>语法格式：<code>文件变量.write(所需的内容)</code></li>
</ul>
<p>示例代码：</p>
<pre><code class="python"># 1. 打开文件，只写方式打开
f = open(&#39;xxx.txt&#39;, &#39;w&#39;)


# 2. 写文件
# 写文件格式：文件变量.write(所需的内容)
f.write(&#39;hello abc&#39;)
f.write(&#39; hello python&#39;)

# 3. 关闭文件
f.close()</code></pre>
<h3 id="2-读数据"><a href="#2-读数据" class="headerlink" title="2. 读数据"></a>2. 读数据</h3><h4 id="2-1-read"><a href="#2-1-read" class="headerlink" title="2.1 read"></a>2.1 read</h4><ul>
<li><p>格式语法：</p>
<pre><code>内容变量 = 文件变量.read(n)</code></pre><ul>
<li>n 为读取的字符数，不设置则全部读取</li>
</ul>
</li>
</ul>
<p>案例演练：</p>
<ul>
<li><p><code>xxx.txt</code>文件内容如下：</p>
<pre><code class="txt">hello abc hello python</code></pre>
</li>
<li><p>示例代码：</p>
</li>
</ul>
<pre><code class="python"># 1. 打开文件，只读方式打开，&#39;r&#39;
# &#39;r&#39;： 打开文件，必须存在，不存在，报错崩溃
f = open(&#39;xxx.txt&#39;, &#39;r&#39;)

# 2. 读取文件内容
# 格式： 内容变量 = 文件变量.read(读取的长度)
#       如果read的长度不指定，默认读取全部

ret = f.read(4)  # 读取4个字符
print(ret)

# 下次，继续接着上一次的位置
ret = f.read(7)  # 接着读取7个字符
print(ret)

ret = f.read()  # 接着读取剩下所有个字符
print(ret)

# 3. 关闭文件
f.close()</code></pre>
<h4 id="2-2-readlines"><a href="#2-2-readlines" class="headerlink" title="2.2 readlines"></a>2.2 readlines</h4><ul>
<li><code>readlines()</code> 一次全部读出，读取所有的行，按行作为分隔条件，返回列表 (每行内容是一个元素)</li>
<li>语法格式：<code>内容列表变量 = 文件变量.readlines()</code></li>
</ul>
<p>案例演练：</p>
<ul>
<li><p><code>xxx.txt</code>文件内容如下：</p>
<pre><code class="txt">hello abc
hello python
hello mike</code></pre>
</li>
<li><p>示例代码：</p>
</li>
</ul>
<pre><code class="python"># 1. 打开文件，只读方式打开，&#39;r&#39;
# &#39;r&#39;： 打开文件，必须存在，不存在，报错崩溃
f = open(&#39;xxx.txt&#39;, &#39;r&#39;)

# 2. 读取文件内容
# readlines: 读取所有的行，按行作为分隔条件
# 格式：内容列表变量 = 文件变量.readlines()
content_list = f.readlines()
# &#39;\n&#39;换行符，代表换行
print(content_list)

# 通过for取出列表的所有元素
for v in content_list:
    print(v)

# 3. 关闭文件
f.close()</code></pre>
<h4 id="2-3-readline"><a href="#2-3-readline" class="headerlink" title="2.3 readline"></a>2.3 readline</h4><ul>
<li><code>readline()</code> 每次读取一行数据</li>
<li>语法格式：<code>内容变量 = 文件变量.readline()</code></li>
</ul>
<p>案例演练：</p>
<ul>
<li><p><code>xxx.txt</code>文件内容如下：</p>
<pre><code class="txt">hello abc
hello python
hello mike</code></pre>
</li>
<li><p>示例代码：</p>
</li>
</ul>
<pre><code class="python"># 1. 打开文件，只读方式打开，&#39;r&#39;
# &#39;r&#39;： 打开文件，必须存在，不存在，报错崩溃
f = open(&#39;xxx.txt&#39;, &#39;r&#39;)

# 2. 读取文件内容
# readlines： 读取所有的行
# readline:   一次读取一行
# readline格式：内容变量 = 文件变量.readline()
content = f.readline()
print(content)

content = f.readline()
print(content)

content = f.readline()
print(content)

# 3. 关闭文件
f.close()</code></pre>
<h2 id="四、打开文件详解"><a href="#四、打开文件详解" class="headerlink" title="四、打开文件详解"></a>四、打开文件详解</h2><h3 id="1-访问模式说明"><a href="#1-访问模式说明" class="headerlink" title="1. 访问模式说明"></a>1. 访问模式说明</h3><table>
<thead>
<tr>
<th align="center">访问模式</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">r</td>
<td align="left">只用于读取, 默认模式。文件不存在,会报错。</td>
</tr>
<tr>
<td align="center">w</td>
<td align="left">只用于写入。文件存在则先清空内容, 文件不存在，创建新文件。</td>
</tr>
<tr>
<td align="center">a</td>
<td align="left">只用于写入。文件存在则追加内容, 文件不存在，创建新文件。</td>
</tr>
<tr>
<td align="center">r+</td>
<td align="left">用于读写。文件不存在,会报错。</td>
</tr>
<tr>
<td align="center">w+</td>
<td align="left">用于读写。文件存在则先清空内容, 文件不存在，创建新文件。</td>
</tr>
<tr>
<td align="center">a+</td>
<td align="left">用于读写。文件存在则追加内容, 文件不存在，创建新文件。</td>
</tr>
<tr>
<td align="center">rb</td>
<td align="left">二进制格式的只读操作。后续网络课程中具体讲解。</td>
</tr>
<tr>
<td align="center">wb</td>
<td align="left">二进制格式的只写操作。后续网络课程中具体讲解。</td>
</tr>
<tr>
<td align="center">ab</td>
<td align="left">二进制格式的追加操作。后续网络课程中具体讲解。</td>
</tr>
</tbody></table>
<h4 id="1-1-只读方式打开文件"><a href="#1-1-只读方式打开文件" class="headerlink" title="1.1 只读方式打开文件"></a>1.1 只读方式打开文件</h4><ul>
<li>只读方式打开文件，文件不存存在，报错</li>
</ul>
<p>示例代码：</p>
<pre><code class="python"># &#39;r&#39;，只读方式打开文件，文件不存存在，报错
f = open(&#39;abc.txt&#39;, &#39;r&#39;)

f.close()</code></pre>
<h4 id="1-2-只写方式打开文件"><a href="#1-2-只写方式打开文件" class="headerlink" title="1.2 只写方式打开文件"></a>1.2 只写方式打开文件</h4><ul>
<li>只写方式打开文件，文件不存在新建，文件存在清空文件内容</li>
</ul>
<p>示例代码：</p>
<pre><code class="python"># &#39;w&#39;，只写方式打开文件，文件不存在新建，文件存在清空文件内容
f = open(&#39;abc.txt&#39;, &#39;w&#39;)

f.close()</code></pre>
<h4 id="1-3-追加方式打开文件"><a href="#1-3-追加方式打开文件" class="headerlink" title="1.3 追加方式打开文件"></a>1.3 追加方式打开文件</h4><ul>
<li>追加方式打开文件，文件不存在新建，文件存在写光标则放在文件末尾，写数据直接写在文件末尾<ul>
<li>注意：追加方式打开文件，不会清空文件内容</li>
</ul>
</li>
</ul>
<p>案例演练：</p>
<ul>
<li><p><code>abc.txt</code>文件内容如下：</p>
<pre><code class="txt">hello abc
hello python
hello mike</code></pre>
</li>
<li><p>示例代码：</p>
</li>
</ul>
<pre><code class="python"># 1. &#39;a&#39;，追加方式打开文件
f = open(&#39;abc.txt&#39;, &#39;a&#39;)

# 2. 写数据
f.write(&#39;^_~&#39;)

# 3. 关闭文件
f.close()</code></pre>
<h3 id="2-打开文件路径说明"><a href="#2-打开文件路径说明" class="headerlink" title="2. 打开文件路径说明"></a>2. 打开文件路径说明</h3><h4 id="2-1-open第一个参数说明"><a href="#2-1-open第一个参数说明" class="headerlink" title="2.1 open第一个参数说明"></a>2.1 open第一个参数说明</h4><ul>
<li><code>open</code> 第一个参数，实际上是 <strong><code>路径 + 文件名</code></strong></li>
<li>路径主要分为：绝对路径和相对路径</li>
</ul>
<h4 id="2-2-绝对路径和相对路径"><a href="#2-2-绝对路径和相对路径" class="headerlink" title="2.2 绝对路径和相对路径"></a>2.2 绝对路径和相对路径</h4><ul>
<li><p>绝对路径：是指文件在硬盘上真正存在的路径，是电脑完整的路径</p>
<ul>
<li><p>如 windows 平台下：<code>E:\Code\PyCode</code></p>
</li>
<li><p>注意：写代码的时候，windows下路径的 <code>\</code> 需要改为 <code>\\</code> 或者改为 <code>/</code></p>
<pre><code class="python">&#39;E:\\Code\\PyCode\\abc.txt&#39;
&#39;E:/Code/PyCode/abc.txt&#39;    # 推荐这种写法</code></pre>
</li>
<li><p>一般而言，写程序很少使用到绝对路径，因为程序在本机运行可以找到这个绝对路径，但是，把程序拷贝给别人运行，别人电脑不一定有这个路径</p>
</li>
</ul>
</li>
<li><p>相对路径：相对于自己的目标文件位置</p>
</li>
<li><pre><code>1.txt`：等价于`./1.txt`，当前路径下的`1.txt
../1.txt: 上一级路径下的1.txt</code></pre></li>
</ul>
<h2 id="五、应用：文件备份案例"><a href="#五、应用：文件备份案例" class="headerlink" title="五、应用：文件备份案例"></a>五、应用：文件备份案例</h2><h3 id="1-功能演示"><a href="#1-功能演示" class="headerlink" title="1. 功能演示"></a>1. 功能演示</h3><ul>
<li>输入文件的名字，然后程序自动完成对文件进行备份</li>
</ul>
<h3 id="2-示例代码"><a href="#2-示例代码" class="headerlink" title="2. 示例代码"></a>2. 示例代码</h3><pre><code class="python">&quot;&quot;&quot;
a. 输入需要拷贝的文件名 old_file_name = input()
b. 找文件名字右边的第一个点，通过切片组装成： 旧文件名[备份].后缀

1. 只读方式打开源文件(旧文件)
2. 只写方式打开新的备份文件(新文件)
3. while True:
    4. 一次读取一点源文件的内容
    5. 如果读取的内容，往写文件中写
    6. 如果没有读到内容，文件已经读取完毕，break跳出循环
7. 关闭文件
&quot;&quot;&quot;

# a. 输入需要拷贝的文件名 old_file_name = input()
old_file_name = input(&#39;输入需要拷贝的文件名: &#39;)

# b. 找文件名字右边的第一个点，通过切片组装成： 旧文件名[备份].后缀
# 找文件名字右边的第一个点，rfind， r为right, 从右往左找
pos = old_file_name.rfind(&#39;.&#39;)
new_file_name = old_file_name[0:pos] + &#39;[备份]&#39; + old_file_name[pos:]

# 1. 只读方式打开源文件(旧文件)，加上&#39;b&#39;选项，二进制的意思，为了处理任何类型的文件
src_f = open(old_file_name, &#39;rb&#39;)

# 2. 只写方式打开新的备份文件(新文件)，加上&#39;b&#39;选项，二进制的意思，为了处理任何类型的文件
dst_f = open(new_file_name, &#39;wb&#39;)

# 3. while True:
while True:
    # 4. 一次读取一点源文件的内容
    ret = src_f.read(1024)
    # 5. 如果读取的内容，往写文件中写
    if ret:
        dst_f.write(ret)
    # 6. 如果没有读到内容，文件已经读取完毕，break跳出循环
    else:
        break


# 5. 关闭文件
src_f.close()
dst_f.close()</code></pre>
<h2 id="六、文件的相关操作"><a href="#六、文件的相关操作" class="headerlink" title="六、文件的相关操作"></a>六、文件的相关操作</h2><h3 id="1-文件的相关操作"><a href="#1-文件的相关操作" class="headerlink" title="1. 文件的相关操作"></a>1. 文件的相关操作</h3><p>有些时候，需要对文件进行重命名、删除等一些操作，Python的 os 模块中都有这么功能</p>
<p>操作流程：</p>
<pre><code class="python"># 1. 导入模块，只需导入一次即可
import os
# 2. 使用os中的方法，完成功能
os.方法名()</code></pre>
<h4 id="1-1-文件重命名"><a href="#1-1-文件重命名" class="headerlink" title="1.1 文件重命名"></a>1.1 文件重命名</h4><ul>
<li>os模块中的rename()可以完成对文件的重命名操作</li>
<li>语法格式：<code>os.rename(旧的文件名，新的文件名)</code></li>
</ul>
<pre><code class="python">import os

os.rename(&quot;毕业论文.txt&quot;, &quot;毕业论文-最终版.txt&quot;)</code></pre>
<h4 id="1-2-删除文件"><a href="#1-2-删除文件" class="headerlink" title="1.2 删除文件"></a>1.2 删除文件</h4><ul>
<li>os模块中的remove()可以完成对文件的删除操作，不能删除文件夹</li>
<li>语法格式：<code>os.remove(待删除的文件名)</code></li>
</ul>
<pre><code class="python">import os

os.remove(&quot;毕业论文.txt&quot;)</code></pre>
<h4 id="1-3-创建文件夹"><a href="#1-3-创建文件夹" class="headerlink" title="1.3 创建文件夹"></a>1.3 创建文件夹</h4><ul>
<li>创建文件夹，只能创建文件夹，不能创建普通文件</li>
<li>语法格式：<code>os.mkdir(文件夹的名字)</code></li>
</ul>
<pre><code class="python">import os

os.mkdir(&quot;张三&quot;)</code></pre>
<h4 id="1-4-删除空文件夹"><a href="#1-4-删除空文件夹" class="headerlink" title="1.4 删除空文件夹"></a>1.4 删除空文件夹</h4><ul>
<li>删除文件夹，只能删除空的文件夹</li>
<li>语法格式：<code>os.rmdir(待删除文件夹的名字)</code></li>
</ul>
<pre><code class="python">import os

os.rmdir(&quot;张三&quot;)</code></pre>
<h4 id="1-5-获取当前目录"><a href="#1-5-获取当前目录" class="headerlink" title="1.5 获取当前目录"></a>1.5 获取当前目录</h4><ul>
<li>获取当前工作的路径</li>
<li>语法格式：<code>路径变量 = os.getcwd()</code></li>
</ul>
<pre><code class="python">import os

work_path = os.getcwd()
print(work_path)</code></pre>
<h4 id="1-6-改变默认目录"><a href="#1-6-改变默认目录" class="headerlink" title="1.6 改变默认目录"></a>1.6 改变默认目录</h4><ul>
<li>改变默认目录，切换指定的路径</li>
<li>语法格式：<code>os.chdir(改变的路径)</code></li>
</ul>
<pre><code class="python">import os

os.chdir(&quot;../&quot;)  # 切换到上一级路径</code></pre>
<h4 id="1-7-获取目录列表"><a href="#1-7-获取目录列表" class="headerlink" title="1.7 获取目录列表"></a>1.7 获取目录列表</h4><ul>
<li><p>获取某个目录的文件信息，获取文件夹或文件的名字</p>
</li>
<li><p>语法格式：</p>
<pre><code>目录列表变量 = os.listdir(指定某个目录)</code></pre><ul>
<li>如果不指定目录，默认当前路径</li>
</ul>
</li>
</ul>
<pre><code class="python">import os

temp_list = os.listdir()  # 获取当前目录下的文件信息
print(temp_list)</code></pre>
<h4 id="1-8-判断文件是否存在"><a href="#1-8-判断文件是否存在" class="headerlink" title="1.8 判断文件是否存在"></a>1.8 判断文件是否存在</h4><ul>
<li><p>语法格式：</p>
<pre><code>os.path.exists(需要判断的文件)</code></pre><ul>
<li>如果文件存在返回<code>True</code>，如果文件不存在返回<code>False</code></li>
</ul>
</li>
</ul>
<pre><code class="python">import os

ret = os.path.exists(&#39;1.txt&#39;)
print(ret)</code></pre>
<h3 id="2-应用：批量修改文件名"><a href="#2-应用：批量修改文件名" class="headerlink" title="2. 应用：批量修改文件名"></a>2. 应用：批量修改文件名</h3><h4 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h4><pre><code class="python">&quot;&quot;&quot;
1. 获取pytest的目录信息，返回文件名的列表
2. 切换到目标路径
3. for遍历文件名的列表取出某个元素
4. 对这个元素重命名
&quot;&quot;&quot;
import os

# 1. 获取pytest的目录信息，返回文件名的列表
name_list = os.listdir(&#39;pytest&#39;)
# print(name_list)

# 2. 路径切换
os.chdir(&quot;pytest&quot;)

# 3. for遍历取出文件名的列表某个元素
for name in name_list:
    # print(name)
    # 4. 对这个元素重命名
    new_name = &#39;[黑马出品]-&#39; + name
    os.rename(name, new_name)</code></pre>
<h2 id="七、文件版学生名片管理系统"><a href="#七、文件版学生名片管理系统" class="headerlink" title="七、文件版学生名片管理系统"></a>七、文件版学生名片管理系统</h2><h3 id="1-字符串、容器类型相互转换"><a href="#1-字符串、容器类型相互转换" class="headerlink" title="1. 字符串、容器类型相互转换"></a>1. 字符串、容器类型相互转换</h3><table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>str(容器变量)</td>
<td>将 容器变量 转换为一个字符串</td>
</tr>
<tr>
<td>eval( 字符串内容 )</td>
<td>返回传入字符串内容的结果，字符串里面看到像是什么，就转换成什么</td>
</tr>
</tbody></table>
<p>示例代码：</p>
<pre><code class="python"># 列表
user_list = [{&#39;name&#39;: &#39;mike&#39;, &#39;age&#39;: 34, &#39;tel&#39;: 110},
             {&#39;name&#39;: &#39;yoyo&#39;, &#39;age&#39;: 30, &#39;tel&#39;: 120}]

# 列表转字符串
temp_str = str(user_list)
print(temp_str, type(temp_str))

# 字符串
my_str = &quot;[{&#39;name&#39;: &#39;mike&#39;, &#39;age&#39;: 34, &#39;tel&#39;: 110}, {&#39;name&#39;: &#39;yoyo&#39;, &#39;age&#39;: 30, &#39;tel&#39;: 120}]&quot;

# 字符串转列表
# eval()， 看到像什么，就转换什么
my_list = eval(my_str)
print(my_list, type(my_list))</code></pre>
<p>运行结果：</p>
<pre><code class="shell">[{&#39;name&#39;: &#39;mike&#39;, &#39;age&#39;: 34, &#39;tel&#39;: 110}, {&#39;name&#39;: &#39;yoyo&#39;, &#39;age&#39;: 30, &#39;tel&#39;: 120}] 
[{&#39;name&#39;: &#39;mike&#39;, &#39;age&#39;: 34, &#39;tel&#39;: 110}, {&#39;name&#39;: &#39;yoyo&#39;, &#39;age&#39;: 30, &#39;tel&#39;: 120}] </code></pre>
<h3 id="2-文件版学生名片管理系统"><a href="#2-文件版学生名片管理系统" class="headerlink" title="2. 文件版学生名片管理系统"></a>2. 文件版学生名片管理系统</h3><h4 id="2-1-保存数据"><a href="#2-1-保存数据" class="headerlink" title="2.1 保存数据"></a>2.1 保存数据</h4><pre><code class="python">def save_info():
    &quot;&quot;&quot;名片信息保存到文件&quot;&quot;&quot;
    # 1. 通过with打开文件，自动处理关闭
    with open(&#39;stu.txt&#39;, &#39;w&#39;) as f:
        # 2. 将列表转换为字符串后，再往文件中写
        f.write(str(user_list))</code></pre>
<h4 id="2-2-读取数据"><a href="#2-2-读取数据" class="headerlink" title="2.2 读取数据"></a>2.2 读取数据</h4><pre><code class="python">def load_info():
    &quot;&quot;&quot;加载数据&quot;&quot;&quot;
    # 1 判断文件是否存在，不存在，中断函数
    # 文件开头需要 import os
    if not os.path.exists(&#39;stu.txt&#39;):
        print(&#39;文件不存在，无法加载&#39;)
        return

    # 2 文件存在的时候，加载数据
    # 2.1 通过with打开文件，只读方式打开文件
    with open(&#39;stu.txt&#39;, &#39;r&#39;) as f:
        # 2.2 文件变量.read()读取所有内容，返回内容是字符串类型
        content = f.read()
        # 2.3 global 声明user_list全局变量
        global user_list
        # 2.4 把读取内容通过eval转换成列表，给全局变量的列表赋值
        user_list = eval(content)
        print(&#39;数据成功加载&#39;)</code></pre>
</div><div class="p-copyright"><blockquote><div class="p-copyright-author"><span class="p-copyright-key">本文作者：</span><span class="p-copytight-value"><a href="mailto:litreily@163.com">caijinbo</a></span></div><div class="p-copyright-link"><span class="p-copyright-key">本文链接：</span><span class="p-copytight-value"><a href="/2020/07/26/2020-07-27-python%E5%9F%BA%E7%A1%8006-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/">https://caijinbo.work/2020/07/26/2020-07-27-python基础06-文件操作/</a></span></div><div class="p-copyright-note"><span class="p-copyright-key">版权声明：</span><span class="p-copytight-value">本博客所有文章除特殊声明外，均采用<a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/"> CC BY-NC 4.0 </a>许可协议。转载请注明出处 <a href="https://caijinbo.work">caijinbo的博客</a>！</span></div></blockquote></div></article><div class="p-info box"><span class="p-tags"><i class="fa fa-tag"></i><a href="/tags/python/">python</a></span></div><aside id="toc"><div class="toc-title">目录</div><nav><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#文件操作"><span class="toc-number">1.</span> <span class="toc-text">文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、文件的作用"><span class="toc-number">1.1.</span> <span class="toc-text">一、文件的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、文件的打开与关闭"><span class="toc-number">1.2.</span> <span class="toc-text">二、文件的打开与关闭</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-文件操作流程"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 文件操作流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-打开文件"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 打开文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-关闭文件"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 关闭文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-手动关闭文件"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">3.1 手动关闭文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-自动关闭文件"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">3.2 自动关闭文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、文件的读写"><span class="toc-number">1.3.</span> <span class="toc-text">三、文件的读写</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-写数据"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. 写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-读数据"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. 读数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-read"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">2.1 read</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-readlines"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">2.2 readlines</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-readline"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">2.3 readline</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、打开文件详解"><span class="toc-number">1.4.</span> <span class="toc-text">四、打开文件详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-访问模式说明"><span class="toc-number">1.4.1.</span> <span class="toc-text">1. 访问模式说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-只读方式打开文件"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">1.1 只读方式打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-只写方式打开文件"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">1.2 只写方式打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-追加方式打开文件"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">1.3 追加方式打开文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-打开文件路径说明"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. 打开文件路径说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-open第一个参数说明"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">2.1 open第一个参数说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-绝对路径和相对路径"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">2.2 绝对路径和相对路径</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五、应用：文件备份案例"><span class="toc-number">1.5.</span> <span class="toc-text">五、应用：文件备份案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-功能演示"><span class="toc-number">1.5.1.</span> <span class="toc-text">1. 功能演示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-示例代码"><span class="toc-number">1.5.2.</span> <span class="toc-text">2. 示例代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六、文件的相关操作"><span class="toc-number">1.6.</span> <span class="toc-text">六、文件的相关操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-文件的相关操作"><span class="toc-number">1.6.1.</span> <span class="toc-text">1. 文件的相关操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-文件重命名"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">1.1 文件重命名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-删除文件"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">1.2 删除文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-创建文件夹"><span class="toc-number">1.6.1.3.</span> <span class="toc-text">1.3 创建文件夹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-删除空文件夹"><span class="toc-number">1.6.1.4.</span> <span class="toc-text">1.4 删除空文件夹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-获取当前目录"><span class="toc-number">1.6.1.5.</span> <span class="toc-text">1.5 获取当前目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-改变默认目录"><span class="toc-number">1.6.1.6.</span> <span class="toc-text">1.6 改变默认目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-获取目录列表"><span class="toc-number">1.6.1.7.</span> <span class="toc-text">1.7 获取目录列表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-8-判断文件是否存在"><span class="toc-number">1.6.1.8.</span> <span class="toc-text">1.8 判断文件是否存在</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-应用：批量修改文件名"><span class="toc-number">1.6.2.</span> <span class="toc-text">2. 应用：批量修改文件名</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#示例代码"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">示例代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七、文件版学生名片管理系统"><span class="toc-number">1.7.</span> <span class="toc-text">七、文件版学生名片管理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-字符串、容器类型相互转换"><span class="toc-number">1.7.1.</span> <span class="toc-text">1. 字符串、容器类型相互转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-文件版学生名片管理系统"><span class="toc-number">1.7.2.</span> <span class="toc-text">2. 文件版学生名片管理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-保存数据"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">2.1 保存数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-读取数据"><span class="toc-number">1.7.2.2.</span> <span class="toc-text">2.2 读取数据</span></a></li></ol></li></ol></li></ol></li></ol></nav></aside></div><section class="p-ext"><div class="l-pager l-pager-dtl box"><a class="prev" href="/2020/07/26/2020-07-27-python%E5%9F%BA%E7%A1%8007-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A11%EF%BC%9A%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1%E3%80%81%E9%AD%94%E6%96%B9%E6%96%B9%E6%B3%95/">&lt; python基础07-面向对象1：类和对象、魔方方法</a><a class="next" href="/2020/07/26/2020-07-27-python%E5%9F%BA%E7%A1%8003-%E5%AE%B9%E5%99%A8%E7%B1%BB%E5%9E%8B/">python基础03-容器类型 &gt;</a></div></section><footer><p>Copyright © 2016 - 2021 <a href="/." rel="nofollow">CAIJINBO</a> | <strong><a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></strong><br><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span></span> <span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span></span> | Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a>Theme with<a rel="nofollow" target="_blank" href="https://github.com/litreily/snark-hexo"> snark.</a></p></footer></div></div></div><script type="text/javascript" src="/plugins/prettify/prettify.js"></script><script type="text/javascript" src="/js/search.js"></script><script type="text/javascript" src="/js/top.js"></script><script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
    search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.1" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"></body></html>